// DO NOT EDIT: generated by github.com/tim-online/go-afas-profit-rest/generate

package afas

import "encoding/json"

type {{.Name}}InsertRequest struct {
	{{.Name}}Service
	ConnectorInsertRequest
}

type {{.Name}}InsertResponseBody struct {
	*ConnectorInsertResponseBody

	UniID string `json:"Unid"`
	EnNo  string `json:"EnNo"`
}

type {{.Name}}InsertRequestBody struct {
    {{.Name}} `json:"{{.Name}}"`
}

func ({{.Variable}} *{{.Name}}InsertRequest) ResponseBody() *{{.Name}}InsertResponseBody {
	type alias {{.Name}}InsertResponseBody

	rb := {{.Name}}InsertResponseBody{
		ConnectorInsertResponseBody: {{.Variable}}.ConnectorInsertRequest.ResponseBody(),
	}

	wrapper := struct {
		{{.Name}}InsertResponseBody alias `json:"{{.Name}}"`
	}{
		{{.Name}}InsertResponseBody: alias(rb),
	}

	json.Unmarshal({{.Variable}}.ConnectorInsertRequest.ResponseBody().Results, &wrapper)
	rb = {{.Name}}InsertResponseBody(wrapper.{{.Name}}InsertResponseBody)
	return &rb
}

// Wrap extra object around root type:
// {
//   "root": {}
// }
func ({{.Variable}} {{.Name}}InsertRequestBody) MarshalJSON() ([]byte, error) {
	type alias {{.Name}}InsertRequestBody
	wrapper := struct {
		{{.Name}}InsertRequestBody alias `json:"{{.Name}}"`
	}{ {{.Name}}InsertRequestBody: alias({{.Variable}})}
	return json.Marshal(wrapper)
}

func (r *{{.Name}}InsertRequest) RequestBody() *{{.Name}}InsertRequestBody {
	if body, ok := r.ConnectorInsertRequest.RequestBody().(*{{.Name}}InsertRequestBody); ok {
		return body
	}

	body := &{{.Name}}InsertRequestBody{}
	r.ConnectorInsertRequest.SetRequestBody(body)
	return body
}

func (s *{{.Name}}Service) NewInsertRequest() {{.Name}}InsertRequest {
	r := s.api.Connector.NewInsertRequest()
	r.URLParams().ConnectorID = "{{.ID}}"
	return {{.Name}}InsertRequest{ConnectorInsertRequest: r}
}

// vim: ft=gotexttmpl
